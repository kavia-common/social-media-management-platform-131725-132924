{"is_source_file": true, "format": "C#", "description": "This file defines the AppDbContext class which inherits from Entity Framework Core's DbContext. It configures database sets for user accounts, social accounts, scheduled posts, published posts, analytics snapshots, and automation rules. The class specifies entity configurations, including indexes and foreign key relationships, for a social media management platform's persistence layer.", "external_files": ["Microsoft.EntityFrameworkCore", "dotnet.Persistence.Entities"], "external_methods": ["Set<T>()", "modelBuilder.Entity<T>()", "HasIndex()", "IsUnique()", "HasOne()", "WithMany()", "HasForeignKey()"], "published": ["AppDbContext"], "classes": [{"name": "AppDbContext", "description": "EF Core DbContext for managing database interactions in the social media management platform."}], "methods": [{"name": "AppDbContext", "description": "Constructor that initializes the DbContext with provided options."}, {"name": "OnModelCreating", "description": "Configures entity relationships, indexes, and constraints for the database schema."}], "calls": ["Set<User>()", "Set<SocialAccount>()", "Set<ScheduledPost>()", "Set<PublishedPost>()", "Set<AnalyticsSnapshot>()", "Set<AutomationRule>()", "modelBuilder.Entity<User>()", "modelBuilder.Entity<SocialAccount>()", "modelBuilder.Entity<ScheduledPost>()", "modelBuilder.Entity<PublishedPost>()", "modelBuilder.Entity<AutomationRule>()", "HasIndex(u => u.Email)", "HasIndex(a => new { a.Provider, a.ProviderUserId, a.UserId })", "HasOne(p => p.SocialAccount)", "WithMany(a => a.ScheduledPosts)", "HasForeignKey(p => p.SocialAccountId)", "HasOne(p => p.SocialAccount)", "WithMany(a => a.PublishedPosts)", "HasForeignKey(p => p.SocialAccountId)", "HasOne(r => r.User)", "WithMany(u => u.AutomationRules)", "HasForeignKey(r => r.UserId)"], "search-terms": ["Entity Framework Core", "AppDbContext", "database context", "social media platform storage", "EF Core configurations", "DbSet", "OnModelCreating"], "state": 2, "file_id": 6, "knowledge_revision": 58, "git_revision": "", "revision_history": [{"14": ""}, {"58": ""}], "hash": "1aba15237c1b7913645ddb99e00dbc95", "format-version": 4, "code-base-name": "automation_backend", "filename": "automation_backend/Persistence/AppDbContext.cs"}